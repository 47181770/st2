version: '2.0'

examples.mistral-customfilters-to_json_string:
    description: Example for using the custom filter "to_json_string"
    type: direct
    # vars:
    #     none_input: null
    # input:
    #     - input_str
    output:
        result_jinja: <% $.result_jinja %>
        result_yaql: <% $.result_yaql %>
    tasks:

        task1:
            action: examples.object_return
            on-success:
              - task2

        task2:
            action: std.noop
            publish:
              result_jinja: "{{ task('task1').result.result | to_json_string}}"
              result_yaql: '<% to_json_string(task(task1).result.result) %>'          
