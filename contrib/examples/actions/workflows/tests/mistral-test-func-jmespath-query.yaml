version: '2.0'

examples.mistral-test-func-jmespath-query:
    description: A workflow for testing jmespath_query custom filter in mistral
    type: direct
    input:
        - input_obj
        - input_query
    output:
        result_jinja: <% $.result_jinja %>
        result_yaql: <% $.result_yaql %>
    tasks:

        task2:
            action: std.noop
            publish:
                result_jinja: '{{ jmespath_query(_.input_obj, _.input_query) }}'
                result_yaql: '<% jmespath_query($.input_obj, $.input_query) %>'
