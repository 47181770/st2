---
  class_name: "St2TimerSensor"
  entry_point: "st2_timer_sensor.py"
  description: "Sensor which emits triggers based on the user-defined schedule or interval"
  poll_interval: 5
  trigger_types:
    -
      name: "st2.IntervalTimer"
      description: "Triggers on specified intervals. e.g. every 30s, 1week etc."
      payload_schema:
        type: "object"
        properties:
          executed_at:
            type: "string"
            format: "date-time"
            default: "2014-07-30 05:04:24.578325"
          schedule:
            type: "object"
            default:
              delta: 30
              units: "seconds"
              type: "object"
      parameters_schema:
        additionalProperties: false
        required:
          - "unit"
          - "delta"
        type: "object"
        properties:
          timezone:
            type: "string"
          unit:
            enum:
              - "weeks"
              - "days"
              - "hours"
              - "minutes"
              - "seconds"
          delta:
            type: "integer"
    -
      name: "st2.DateTimer"
      description: "Triggers exactly once when the current time matches the specified time. e.g. timezone:UTC date:2014-12-31 23:59:59."
      payload_schema:
        type: "object"
        properties:
          executed_at:
            type: "string"
            format: "date-time"
            default: "2014-07-30 05:04:24.578325"
          schedule:
            type: "object"
            default:
              delta: 30
              units: "seconds"
              type: "object"
      parameters_schema:
        additionalProperties: false
        required:
          - "date"
        type: "object"
        properties:
          date:
            type: "string"
            format: "date-time"
          timezone:
            type: "string"
    -
      name: "st2.CronTimer"
      description: "Triggers whenever current time matches the specified time constaints like a UNIX cron scheduler."
      payload_schema:
        type: "object"
        properties:
          executed_at:
            type: "string"
            format: "date-time"
            default: "2014-07-30 05:04:24.578325"
          schedule:
            type: "object"
            default:
              delta: 30
              units: "seconds"
              type: "object"
      parameters_schema:
        additionalProperties: false
        type: "object"
        properties:
          week:
            minimum: 1
            type: "integer"
            maximum: 53
          second:
            minimum: 0
            type: "integer"
            maximum: 59
          minute:
            minimum: 0
            type: "integer"
            maximum: 59
          hour:
            minimum: 0
            type: "integer"
            maximum: 23
          year:
            type: "integer"
          timezone:
            type: "string"
          day:
            minimum: 1
            type: "integer"
            maximum: 31
          day_of_week:
            minimum: 0
            type: "integer"
            maximum: 6
          month:
            minimum: 1
            type: "integer"
            maximum: 12
